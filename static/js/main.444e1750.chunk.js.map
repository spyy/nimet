{"version":3,"sources":["Search.js","util.js","ArrowRightCircle.js","Firstname.js","Firstnames.js","App.js","index.js"],"names":["Search","PreviousUrl","props","className","id","required","value","selection","onChange","event","target","type","placeholder","location","onLocation","lastname","onLastname","length","onClick","onSearch","disabled","renderButton","class","checked","useTablet","e","onUseTablet","for","href","windowObjectReference","ArrowRightCircle","useState","color","setColor","url","xmlns","width","height","fill","viewBox","fillRule","d","onPress","Firstname","what","item","name","config","replace","scope","number","count","console","log","closed","window","open","focus","util","Firstnames","filteredFirstNames","scrollListener","undefined","winY","onEventScroll","scrollTo","useEffect","addEventListener","remove","filterMinCount","minCount","Number","parseInt","naiset","filter","namesMinimum","miehet","onClose","map","element","index","render","App","localStorage","getItem","prefs","JSON","parse","screenState","setScreenState","setSelection","setLastname","setLocation","setUseTablet","setItem","stringify","savePrefs","val","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.444e1750.chunk.js","sourcesContent":["\n\nfunction Search(props) {\n\n  const renderButton = props => {\n    if (props.location.length && props.lastname.length) {\n      return (\n        <button className=\"w-100 btn btn-primary btn-lg\" type=\"button\" onClick={() => props.onSearch()}>Aloita</button>\n      );\n    } else {\n      return (\n        <button className=\"w-100 btn btn-primary btn-lg\" type=\"button\" onClick={() => props.onSearch()} disabled>Aloita</button>\n      );\n    }\n  }\n\n  return (\n    <div className=\"container\">\n      <main>\n        <div className=\"py-5 text-center\">\n          <h2>Nimi haku</h2>\n          <p className=\"lead\">Anna ensin paikka ja sukunimi. Paina sitten aloita.</p>\n\n          <hr className=\"my-4\" />\n\n          <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\n            <div className=\"row g-3 mb-3\">\n              <div className=\"col\">\n                <select className=\"form-select\" id=\"state\" required=\"\" value={props.selection} onChange={event => props.onChange(event.target.value)}>\n                  <option value=\"miehet\">Miesten etunimet</option>\n                  <option value=\"naiset\">Naisten etunimet</option>\n                </select>\n              </div>\n            </div>\n\n            <hr className=\"my-4\" />\n\n            <h5 className=\"mb-3\">Haku</h5>\n\n            <div className=\"row g-3 mb-3\">\n              <div className=\"col\">\n                <input type=\"text\" className=\"form-control\" id=\"place\" placeholder=\"Paikka (postinumero)\" value={props.location} onChange={event => props.onLocation(event.target.value)}></input>\n              </div>\n            </div>\n\n            <div className=\"row g-3 mb-3\">\n              <div className=\"col\">\n                <input type=\"text\" className=\"form-control\" id=\"lastname\" placeholder=\"Sukunimi\" value={props.lastname} onChange={event => props.onLastname(event.target.value)}></input>\n              </div>\n            </div>\n\n            <hr className=\"my-4\" />\n\n            { renderButton(props) }\n          </div>\n        </div>\n\n        <div className=\"form-check\">\n          <input type=\"checkbox\" class=\"form-check-input\" id=\"same-address\" checked={props.useTablet} onChange={e => props.onUseTablet()}></input>\n          <label className=\"form-check-label\" for=\"same-address\">Käytän tablettia</label>\n        </div>\n      </main>\n\n      <footer className=\"my-5 pt-5 text-muted text-center text-small\">\n        <a href='https://www.avoindata.fi/data/fi/dataset/none'>Väestötietojärjestelmän suomalaisten nimiaineistot</a>\n        <p class=\"mb-1\">Versio 1.5</p>\n      </footer>\n    </div>\n  );\n}\n\n\nexport default Search;","let windowObjectReference = null; // global variable\nlet PreviousUrl; /* global variable that will store the\n                    url currently in the secondary window */\n\nexport const openRequestedSinglePopup = url => {\n  console.log(url);\n\n  if(windowObjectReference == null || windowObjectReference.closed) {\n    windowObjectReference = window.open(url, \"SingleSecondaryWindowName\", \"popup\");\n  } else if(PreviousUrl !== url) {\n    windowObjectReference = window.open(url, \"SingleSecondaryWindowName\", \"popup\");\n    /* if the resource to load is different,\n       then we load it in the already opened secondary window and then\n       we bring such window back on top/in front of its parent window. */\n    windowObjectReference.focus();\n  } else {\n    windowObjectReference.focus();\n  };\n\n  PreviousUrl = url;\n  /* explanation: we store the current url in order to compare url\n     in the event of another call of this function. */\n}\n","import React, { useState } from 'react';\n\n\nconst ArrowRightCircle = props => {\n    const [color, setColor] = useState('#0d6efd');\n\n    const onPress = () => {\n        setColor('#00EBFE');\n\n        props.onPress();\n    }\n\n    if (props.useTablet) {\n        return (\n            <a href={props.url} target=\"_blank\" className=\"d-inline-block\"  onClick={() => setColor('#00EBFE')}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill={color} className=\"bi bi-arrow-right-circle\" viewBox=\"0 0 16 16\">\n                    <path fillRule=\"evenodd\" d=\"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z\"/>\n                </svg>\n            </a>\n        );\n    } else {\n        return (\n            <a className=\"d-inline-block\"  onClick={onPress}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill={color} className=\"bi bi-arrow-right-circle\" viewBox=\"0 0 16 16\">\n                    <path fillRule=\"evenodd\" d=\"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z\"/>\n                </svg>\n            </a>\n        );\n    }\n}\n\n\nexport default ArrowRightCircle;","import * as config from './config/conf.json';\n\nimport * as util from './util';\n\nimport ArrowRightCircle from './ArrowRightCircle';\n\n\n\nconst Firstname = props => {\n  const what = props.lastname + '+' + props.item.name;\n  const location = 'location=' + props.location;\n  const uri = config.address.replace('what', what);\n  const url = uri.replace('location', location);\n\n  const onSelect = () => {\n\n    util.openRequestedSinglePopup(url);\n  }\n\n  return (\n    <tr>\n      <th scope=\"row\">{ props.number }</th>\n      <td>{ props.item.name }</td>\n      <td>{ props.item.count }</td>\n      <td>\n        <ArrowRightCircle useTablet={props.useTablet} url={url} onPress={onSelect} />\n      </td>\n    </tr>\n  );\n}\n\n\nexport default Firstname;","import React, { useEffect } from 'react';\n\nimport * as miehet from './config/miehet.json';\nimport * as naiset from './config/naiset.json';\n\nimport Firstname from './Firstname';\n\n\nconst Firstnames = props => {\n  let filteredFirstNames = [];\n  let scrollListener = undefined;\n  let winY = 0;\n\n  const onEventScroll = event => {\n    if (winY > 0) {\n      window.scrollTo(0, winY);\n      winY = 0;\n    }\n  }\n\n  useEffect(() => {\n    scrollListener = window.addEventListener('scroll', onEventScroll);\n\n    return () => {\n      if (scrollListener) {\n        scrollListener.remove();\n\n        scrollListener = undefined;\n      }\n    };\n  });\n\n  const filterMinCount = (item, minCount) => {\n    const count = Number.parseInt(item.count);\n\n    return count < minCount ? false : true;\n  }\n\n  switch (props.selection) {\n    case 'naiset':\n      filteredFirstNames = naiset.nimet.filter(item => filterMinCount(item, props.namesMinimum));\n      break;\n    case 'miehet':\n    default:\n      filteredFirstNames = miehet.nimet.filter(item => filterMinCount(item, props.namesMinimum));\n      break;\n  }\n\n  const render = props => {\n    return (\n      <table className=\"table table-striped caption-top\">\n        <caption>{ '1-' + filteredFirstNames.length}</caption>\n        <thead>\n          <tr>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\">Etunimi</th>\n            <th scope=\"col\">Lukumäärä</th>\n            <th scope=\"col\"></th>\n          </tr>\n        </thead>\n        <tbody>\n          {\n            filteredFirstNames.map((element, index) => {\n              return (\n                <Firstname key={index} number={index + 1} lastname={props.lastname} item={element} location={props.location} useTablet={props.useTablet} />\n              );\n            })\n          }\n        </tbody>\n      </table>\n    );\n  }\n\n  return (\n    <div className=\"container\">\n      <main>\n        <div className=\"float-end py-3\">\n          <button type=\"button\" className=\"btn-close\" aria-label=\"Close\" onClick={() => props.onClose()}></button>\n        </div>\n\n        <div className=\"py-3\">\n          <h4>{props.lastname}</h4>\n        </div>\n\n        <div className=\"float-none py-3\">\n\n          { render(props) }\n\n        </div>\n      </main>\n    </div>\n  );\n}\n\n\nexport default Firstnames;","import React, { useState } from 'react';\n\nimport Search from './Search';\nimport Firstnames from './Firstnames';\n\n\nfunction App() {\n  const defaultPrefs = {\n    selection: 'miehet',\n    lastname: '',\n    location: '',\n    useTablet: false\n  }\n  const item = localStorage.getItem('prefs');\n  const prefs = item ? JSON.parse(item) : defaultPrefs;\n\n  const [screenState, setScreenState] = useState('search');\n  const [namesMinimum, setNamesMinimum] = useState('1000');\n  \n  const [selection, setSelection] = useState(prefs.selection);\n  const [lastname, setLastname] = useState(prefs.lastname);\n  const [location, setLocation] = useState(prefs.location);\n  const [useTablet, setUseTablet] = useState(prefs.useTablet);\n\n\n  const savePrefs = () => {\n    const item = {\n      selection: selection,\n      lastname: lastname,\n      location: location,\n      useTablet: useTablet\n    }\n\n    localStorage.setItem('prefs', JSON.stringify(item));\n  }\n\n  const onSearch = () => {\n    savePrefs();\n\n    setScreenState('firstnames');\n  }\n  \n\n  switch (screenState) {\n    case 'firstnames':\n      return (\n        <Firstnames\n          onClose={() => setScreenState('search')}\n          useTablet={useTablet}\n          namesMinimum={namesMinimum}\n          selection={selection}\n          location={location}\n          lastname={lastname} />\n      );\n    case 'search':\n    default:\n      return (\n        <Search\n          onSearch={ onSearch }\n          selection={selection}\n          location={location}\n          lastname={lastname}\n          useTablet={useTablet}\n          onUseTablet={() => setUseTablet(!useTablet)}\n          onLocation={val => setLocation(val)}\n          onLastname={val => setLastname(val)}\n          onChange={val => setSelection(val)} />\n      );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}